module.exports= {

    id: 0,
    models: {},

    query: function () {
        var models= []
        Object.keys(this.models).map(function (key) {
            models.push(this.models[key])
        }, this)
        return models
    },

    get: function (model) {
        var model= this.models[model.id] || null
        return model
    },

    post: function (model) {
        model.id= ++this.id
        model.updatedAt= Date()
        this.models[model.id]= model
    },

    patch: function (model) {
        if (this.models[model.id]) {
            this.models[model.id]= model
            model.updatedAt= Date()
        }
    },

    del: function (model) {
        if (this.models[model.id]) {
            delete this.models[model.id]
            model.updatedAt= model.deletedAt= Date()
        }
    }

}
